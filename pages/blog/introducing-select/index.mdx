---
title: 'Back to the drawing board: The select'
publishedAt: '2020-04-03'
summary: 'A custom Select component without compromises.'
by: 'peduarte'
relatedIds:
  - 'blog/introducing-primitives'
  - 'blog/introducing-tooltip'
---

import parts from './parts.png';
import apple from './apple.png';
import netflix from './netflix.png';
import instagram from './instagram.png';
import tesla from './tesla.png';
import redSelect from './red-select.mp4';
import typeaheadClosed from './typeahead-closed.mp4';
import typeaheadOpen from './typeahead-open.mp4';
import typeaheadLoop from './typeahead-loop.mp4';
import squarespace from './squarespace.mp4';
import yelp from './yelp.mp4';
import youtube from './youtube.mp4';
import facebook from './facebook.mp4';
import soundcloud from './soundcloud.mp4';
import amazonVideoPoster from './amazon-video-poster.png';

Building an accessible custom Select component from scratch is undoubtedly one of the most challenging pieces of UI one can tackle.

There are many cases that need to be handled, such as keyboard navigation, typeahead functionality, collision-aware positioning and many accessibility concerns.

Due of the amount of time it takes to make it right, it's understandable that teams tend to take shortcuts. As a result either the end user suffers (lack of functionality) or the product suffers (lack of design).

In this article, we'll look at how some of the biggest websites in the world have implemented their Select component, and how we went back to the drawing board to build our Select Primitive with accessibility features out of the box and customisable to your product's need.

---

## Common issues

Many custom Selects across the web generally suffer from one or more of the following issues:

### Lack of keyboard navigation

An important feature of custom Selects is keyboard accessibility. Apart from offering an overall better user experience, it enables users with certain types of disabilities to navigate across the list of options.

A common issue with custom built Selects is that they either completely lack keyboard navigation, or they're partly implemented.

<ProductVideo small src={yelp} />
<Text as="legend" mb={7} sx={{ textAlign: 'center', color: 'gray700', lineHeight: 0 }}>
  Yelp.com uses Select components in their footer to switch languages and countries. As you can see in this video,
  pressing <Code variant="fade">up</Code> and <Code variant="fade">down</Code> arrows don't correctly cycle over the
  items.
</Text>

### Lack of screen reader support

Something to take into account when creating your own custom Select is to make sure the appropritate `aria-*` attributes are implemented. It's crucial to dedicate extra care time and attention to those. An incorrectly implemented component will do more harm than good for users with certain types of disabilities.

<Video id="SZ_b_rj1IeI" poster={amazonVideoPoster} />
<Text as="legend" mb={7} sx={{ textAlign: 'center', color: 'gray700', lineHeight: 0 }}>
  The video above shows the how the screen reader lacks enough context and information to accurately announce the list
  of options, effectively giving portraying an innacurate representation of the UI.
</Text>

### No typeahead functionality

Typeahead functionality is specially helpful for Select with many options. If implemented, it can jump to the user's desired option based on what they're typing.

Lack of typeahead support can jeoperdize the user experience by forcing users to scan a long list of options.

<ProductVideo small src={facebook} />
<Text as="legend" mb={7} sx={{ textAlign: 'center', color: 'gray700', lineHeight: 0 }}>
  An example of a custom Select without typeahead functionality. As you can see in this video, the user is trying to
  bypass scrolling through all options by typing in "US Dollar".
</Text>

### No collision detection

It's important to ensure that whenever the Menu appears, it's entirely visible for the users. Collision detection makes it able to identify if there's enough space for the Menu to be displayed. If not, then it'll automatically be adjusted to ensure it's fully visible.

<ProductVideo small src={soundcloud} />
<Text as="legend" mb={7} sx={{ textAlign: 'center', color: 'gray700', lineHeight: 0 }}>
  An example of a custom Select without collision support
</Text>

### Incorrect Menu implementations

By displaying a piece of UI that looks like Select, users will expect a relatively positioned Menu to appear, and not a full screen dialog.

<ProductVideo small src={squarespace} />
<Text as="legend" mb={7} sx={{ textAlign: 'center', color: 'gray700', lineHeight: 0 }}>
  Squarespace implementation of a Select component
</Text>

## Selects in the wild

We've compiled a list of examples of how Select components are typically implemented. After having gone through hundreds of websites, it's safe to say that it boils down to two common implementations, both with compromises.

### Compromise on design

The first approach is to rely on the native Select.

This is typically done by making the `select` element transparent and positioned on top of a `button`. This is the element that gets styled. When the user clicks on that `button`, they are actually clicking on the transparent `select`. Finally, when the `select` opens, the transparency is removed.

The good thing with this approach is that you get all of the accessibility features and complex UI logic handled for you automatically.

The downside is that styling is extremely limited, as a result users will see a native-looking menu popping up on beautifully designed products.

<Grid sx={{
		gridTemplateColumns: '1fr 1fr',
		gap: 1,
		bg: 'gray300',
		border: t => `1px solid ${t.colors.gray300}`,
		borderRadius: 3,
		overflow: 'hidden',
		mx: [-5, -5, -9]
	}}
>

<Image sx={{ width: '100%', margin: 0 }} m={0} src={apple} />
<Image sx={{ width: '100%', margin: 0 }} m={0} src={instagram} />
<Image sx={{ width: '100%', margin: 0 }} m={0} src={netflix} />
<Image sx={{ width: '100%', margin: 0 }} m={0} src={tesla} />

</Grid>

### Compromise on accessibility

The second approach is to prioritise aesthetics over accessibility.

<ProductVideo small src={squarespace} />
<Text as="legend" mb={7} sx={{ textAlign: 'center', color: 'gray700', lineHeight: 0 }}></Text>

<!-- ### Facebook -->

<!-- https://www.facebook.com/settings?tab=payments&section=settings -->

<!-- ### Google -->

<!-- https://pay.google.com/gp/w/home/settings -->

## Select Primitive

### Keyboard navigation

Implementing keyboard navigation is one of the most important accessibility features of the Select component. It helps users with motor diabilities navigate across the options in the select. Blind users also rely on keyboard for navigation. It's also important for other types of disablities, such as people with tremors, people without hands or people who have no use of their hands.

Keyboard navigation can also improve the user experience for people without disabilities, by allowing users to achieve their goal without reaching out for the mouse.

We support full keyboard accessibility so you can do anything you need without using your mouse.

When the Select Button is focused, you can:

- Press `space` key to open the menu
- Press `up` and `down` arrow keys to open the menu
- Typeahead lookups

When the Select Menu is opened, you can:

- Press `space` or `enter` keys to select the highlighted item
- Press `esc` to close the menu
- Press `up` and `down` arrow keys to navigate across items
- Typeahead lookups

### Typeahead

You can rely on typeahead funtionality if you're focused on the Select Button or when the Select Menu is opened.

<ProductVideo small src={typeaheadClosed} />
<Text as="legend" mb={7} sx={{ textAlign: 'center', color: 'gray700', lineHeight: 0 }}>
  Typeahead when Select button is focused example
</Text>

<ProductVideo small src={typeaheadOpen} />
<Text as="legend" mb={7} sx={{ textAlign: 'center', color: 'gray700', lineHeight: 0 }}>
  Typeahead when Select Menu is opened example
</Text>

Pressing the same letter will loop over all items that start with that letter.

<ProductVideo small src={typeaheadLoop} />
<Text as="legend" mb={7} sx={{ textAlign: 'center', color: 'gray700', lineHeight: 0 }}>
  Typeahead looping example
</Text>

Loop through items starting with the same letter if that letter is pressed repeatedly

### Screen reader

We provide the right `aria-*` attributes according to the WAI-ARIA specification to ensure voice over works correctly.

### Positioning

When you open the menu, we'll make sure that it's properly positioned above the menu, whilst keeping the selected item placed on top.

### Collision

In the unlikely scenario where there's not enough space to position the menu relatively to the selected item, we'll adjust the positioning automatically.

### Scroll based height

If the menu needs scrolling, we'll automatically add Scroll Indicators where necessary. As you start scrolling the menu, we'll proportionally update the height to allow more items to be visible at once.

### Focus trap

When the Menu is opened, the focus is trapped to the Menu container. Pressing `tab` at this point will prevent the focused element to changing. To navigate across the Items, the up and down arrow must be used.

### Scroll lock

When the Menu is opened, the page cannot be scrolled.

### Block clicks outside

When the Menu is opened, clicks on elements outside of it will be blocked. When you click outside, the Menu will be closed.

### Styling

As showed in the demo above, all the parts (and their corresponding states) that make up a Select componment are available in the parts panel.

The Select Primitve consists of two main parts, these are the `Button` and the `Menu`. Each of these part contains furhter nested parts.

<ProductImage src={parts} />
<Text as="legend" mb={7} sx={{ textAlign: 'center', color: 'gray700', lineHeight: 0 }}>
  All the parts of a Select Primitive
</Text>

### Modulz

Here's a short demo of how the Select Primtive can be styled via Modulz

<ProductVideo src={redSelect} />
<Text as="legend" mb={7} sx={{ textAlign: 'center', color: 'gray700', lineHeight: 0 }}>
  A demo of Modulz styling the Select Primitive
</Text>
